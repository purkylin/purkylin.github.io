<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Purkylin&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="Purkylin's Blog">
<meta property="og:url" content="http://purkylin.github.io/index.html">
<meta property="og:site_name" content="Purkylin's Blog">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Purkylin's Blog">
<meta name="twitter:description">
  
    <link rel="alternate" href="/atom.xml" title="Purkylin&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Purkylin&#39;s Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://purkylin.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Deep-in-UIImage" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/14/Deep-in-UIImage/" class="article-date">
  <time datetime="2016-09-14T05:42:28.000Z" itemprop="datePublished">2016-09-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/14/Deep-in-UIImage/">Deep in UIImage</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li>UIImageView默认会非等比拉伸图像<br>原图如下：</li>
<li>UIImageView默认会非等比拉伸图像<br>原图如下：<br><img src="http://odakbgmli.bkt.clouddn.com/blog/13%3A56%3A23.jpg" alt=""><br>拉伸后</li>
</ul>
<p><img src="http://odakbgmli.bkt.clouddn.com/blog/13%3A55%3A15.jpg" alt=""></p>
<p>UIImage:stretchableImage(withLeftCapWidth leftCapWidth: Int, topCapHeight: Int) -&gt; UIImage</p>
<p>会指定不可变部分，被拉伸部分重复top+1行，和left+1列,<br>如图，效果如下：<br><img src="http://odakbgmli.bkt.clouddn.com/blog/14%3A45%3A34.jpg" alt=""></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> stretchImage = image?.stretchableImage(withLeftCapWidth: <span class="number">375</span>, topCapHeight: <span class="number">375</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> insets = <span class="type">UIEdgeInsets</span>(top: <span class="number">0</span>, <span class="keyword">left</span>: <span class="number">300</span>, bottom: <span class="number">0</span>, <span class="keyword">right</span>: <span class="number">300</span>)</span><br><span class="line"><span class="keyword">let</span> stretchImage2 = image?.resizableImage(withCapInsets: insets)</span><br></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> insets = <span class="type">UIEdgeInsets</span>(top: <span class="number">0</span>, <span class="keyword">left</span>: <span class="number">100</span>, bottom: <span class="number">0</span>, <span class="keyword">right</span>: <span class="number">100</span>)</span><br><span class="line"><span class="keyword">let</span> stretchImage2 = image?.resizableImage(withCapInsets: insets)</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://purkylin.github.io/2016/09/14/Deep-in-UIImage/" data-id="cizga4nfa0000hm3o1tnscoy0" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-centos" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/13/centos/" class="article-date">
  <time datetime="2016-09-13T05:00:51.000Z" itemprop="datePublished">2016-09-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/13/centos/">Centos尝试</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="EPEL-Extra-Package-Enterprise-Linux"><a href="#EPEL-Extra-Package-Enterprise-Linux" class="headerlink" title="EPEL(Extra Package Enterprise Linux)"></a>EPEL(Extra Package Enterprise Linux)</h2><ul>
<li><code>yum -y install epel-release</code> Install epel</li>
<li><code>yum repolist</code> Refresh repo</li>
</ul>
<h2 id="systemctl-服务管理"><a href="#systemctl-服务管理" class="headerlink" title="systemctl 服务管理"></a>systemctl 服务管理</h2><ul>
<li><code>systemctl</code>会输出激活的单元，等价于<code>systemctl list-units</code></li>
<li><code>systemctl --failed</code>输出失败的单元</li>
<li>所有可用的单元文件存放在 /usr/lib/systemd/system/ 和 /etc/systemd/system/ 目录（后者优先级更高）。查看所有已安装服务：</li>
<li>start</li>
<li>stop</li>
<li>restart</li>
<li>reload</li>
<li>status</li>
<li>is-enabled</li>
<li>enable</li>
<li>disable</li>
<li>mask</li>
<li>unmask</li>
<li>list-units</li>
</ul>
<h3 id="journalctl-日志管理"><a href="#journalctl-日志管理" class="headerlink" title="journalctl 日志管理"></a>journalctl 日志管理</h3><h2 id="转义"><a href="#转义" class="headerlink" title="转义"></a>转义</h2><ul>
<li>前面加$，内部加反斜杠 echo $’it\’s me’</li>
<li>echo -e ‘it\x27s me’</li>
<li>则是通过截断命令，在中间插入单引号来实现echo ‘it’\’s’ me’</li>
</ul>
<p>ifconfig eth0 | awk ‘{ print $2}’ | grep -E -o “([0-9]{1,3}[.]){3}[0-9]{1,3}”<br>alias top=’htop’<br>alias myip=$’ifconfig eth0 | awk \’{ print $2}\’ | grep -E -o “([0-9]{1,3}[.]){3}[0-9]{1,3}”‘</p>
<p>centos默认使用firewalld而不是Iptalbes<br>Crontab<br>linux运维之道<br>Nginx反向代理谷歌<br>iptalbes -I INPUT -p icmp –icmp-type 8 -j DROP  加入这条规则后，外面ping不通自己，  只能ping通外面的</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://purkylin.github.io/2016/09/13/centos/" data-id="cizga4ngg000ehm3oflnssv22" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-git" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/13/git/" class="article-date">
  <time datetime="2016-09-13T05:00:15.000Z" itemprop="datePublished">2016-09-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/13/git/">it</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="高级命令"><a href="#高级命令" class="headerlink" title="高级命令"></a>高级命令</h2><ul>
<li>reset 模式<ul>
<li><strong>–hard</strong> 重置暂存区，工作区以及head指向</li>
<li><strong>–soft</strong> head指向</li>
<li><strong>–mixed</strong> 工作区不变， head指向</li>
</ul>
</li>
</ul>
<ul>
<li>merge and rollback</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard</span><br><span class="line">git reflog</span><br><span class="line">git revert  <span class="comment"># 不可逆</span></span><br><span class="line">git pull    <span class="comment"># 会合并</span></span><br><span class="line">git fetch   <span class="comment"># 不合并</span></span><br><span class="line">git merge --abort <span class="comment"># 取消合并</span></span><br><span class="line">```   </span><br><span class="line"></span><br><span class="line">* 需要注意的是：**.gitignore** 中的规则只对 未提交 且 未缓存 的文件有效。因此，如果在<span class="string">"未缓存的改动"</span>中发现有需要忽略的文件， 马上修改 **.gitignore**，再重新扫描就会发现该文件被忽略了。</span><br><span class="line"></span><br><span class="line">* stash</span><br><span class="line"></span><br><span class="line">``` bash</span><br><span class="line">git stash</span><br><span class="line">git stash list</span><br><span class="line">git stash drop &lt;id&gt;  <span class="comment"># stash@&#123;0&#125;</span></span><br><span class="line">git stash clear</span><br><span class="line">git stash apply [&lt;id&gt;]</span><br></pre></td></tr></table></figure>
<ul>
<li>repo的链接文件，clone到本地会变成同名文件，文件内容是链接的目的文件路径，而且是相对路径, 也可通过修改配置文件</li>
<li>克隆指定分支<code>git clone -b &lt;branch_name&gt; &lt;repo&gt;</code></li>
</ul>
<h2 id="git服务器搭建"><a href="#git服务器搭建" class="headerlink" title="git服务器搭建"></a>git服务器搭建</h2><ol>
<li>添加用户<code>adduser git</code></li>
<li>证书管理，创建证书文件<code>/home/git/.ssh/authorized_keys</code>，并添加你的key<br>修改权限或所有者,<code>chown -R git:git /home/git/.ssh</code></li>
<li>初始化仓库<code>git init --bare mysite.git</code>,假定仓库目录为<code>/srv/mysite.git</code></li>
<li>修改文件所有者<code>chown -R git:git mysite.git</code></li>
<li>禁用shell登录, 将类似下面的一行<code>git:x:1001:1001:,,,:/home/git:/bin/bash</code>改为<br> <code>git:x:1001:1001:,,,:/home/git:/usr/bin/git-shell</code></li>
<li>克隆仓库: git clone git@purkylin.com:/srv/mysite.git</li>
<li><p>git作为web服务管理</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">### &#24314;&#31435;&#35064;&#20179;&#24211;&#10;$ mkdir website.git &#38;&#38; cd website.git&#10;$ git init --bare&#10;&#10;### &#24314;&#31435;&#32593;&#31449;&#30446;&#24405;&#10;$ mkdir /var/www/www.example.org&#10;# &#35774;&#32622;hook&#10;$ cat &#62; hooks/post-receive&#10;#!/bin/sh&#10;GIT_WORK_TREE=/var/www/www.example.org git checkout -f&#10;$ chmod +x hooks/post-receive</span><br></pre></td></tr></table></figure>
<p> 网站目录一定要存在，而且还要有写权限才可以</p>
</li>
</ol>
<ul>
<li>多个worktree<br>  <code>git worktree add ../new-worktree-dir some-existing-branch</code></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://purkylin.github.io/2016/09/13/git/" data-id="cizga4ng6000ahm3olt6th4qg" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-lldb" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/13/lldb/" class="article-date">
  <time datetime="2016-09-13T04:59:35.000Z" itemprop="datePublished">2016-09-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/13/lldb/">LLDB命令</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Formatter"><a href="#Formatter" class="headerlink" title="Formatter"></a>Formatter</h2><table>
<thead>
<tr>
<th>Format name</th>
<th>Abbreviation</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>default</td>
<td></td>
<td>the default LLDB algorithm is used to pick a format</td>
</tr>
<tr>
<td>boolean</td>
<td>B</td>
<td>show this as a true/false boolean, using the customary rule that 0 is false and everything else is true</td>
</tr>
<tr>
<td>binary</td>
<td>b</td>
<td>show this as a sequence of bits</td>
</tr>
</tbody>
</table>
<p>| bytes | y | show the bytes one after the other<br>e.g. (int) s.x = 07 00 00 00 |<br>| bytes with ASCII | Y | show the bytes, but try to display them as ASCII characters as well</p>
<pre>
e.g. (int *) c.sp.x = 50 f8 bf 5f ff 7f 00 00 
P.._.... |
character   c   show the bytes as ASCII characters
e.g. (int *) c.sp.x = P\xf8\xbf_\xff\x7f\0\0
printable character C   show the bytes as printable ASCII characters
e.g. (int *) c.sp.x = P.._....
complex float   F   interpret this value as the real and imaginary part of a complex floating-point number
e.g. (int *) c.sp.x = 2.76658e+19 + 4.59163e-41i
c-string    s   show this as a 0-terminated C string
decimal i   show this as a signed integer number (this does not perform a cast, it simply shows the bytes as an integer with sign)
enumeration E   show this as an enumeration, printing the value's name if available or the integer value otherwise
e.g. (enum enumType) val_type = eValue2
hex x   show this as in hexadecimal notation (this does not perform a cast, it simply shows the bytes as hex)
float   f   show this as a floating-point number (this does not perform a cast, it simply interprets the bytes as an IEEE754 floating-point value)
octal   o   show this in octal notation
OSType  O   show this as a MacOS OSType
e.g. (float) x = '\n\x1f\xd7\n'
unicode16   U   show this as UTF-16 characters
e.g. (float) x = 0xd70a 0x411f
unicode32   
show this as UTF-32 characters
e.g. (float) x = 0x411fd70a
unsigned decimal    u   show this as an unsigned integer number (this does not perform a cast, it simply shows the bytes as unsigned integer)
pointer p   show this as a native pointer (unless this is really a pointer, the resulting address will probably be invalid)
char[]  
show this as an array of characters
e.g. (char) *c.sp.z = {X}
int8_t[], uint8_t[]
int16_t[], uint16_t[]
int32_t[], uint32_t[]
int64_t[], uint64_t[]
uint128_t[] 
show this as an array of the corresponding integer type
e.g.
(int) x = {1 0 0 0} (with uint8_t[])
(int) y = {0x00000001} (with uint32_t[])
float32[], float64[]    
show this as an array of the corresponding floating-point type
e.g. (int *) pointer = {1.46991e-39 1.4013e-45}
complex integer I   interpret this value as the real and imaginary part of a complex integer number
e.g. (int *) pointer = 1048960 + 1i
character array a   show this as a character array
e.g. (int *) pointer = \x80\x01\x10\0\x01\0\0\0
</pre>

<ul>
<li>仅应用于当前变量<br>  eg. frame variable counter -f hex</li>
<li>应用到类型<br>  eg. type format add –format hex int</li>
<li><p>清空formatter, 不加类型则清空全部<br>  eg. type format delete int</p>
</li>
<li><p>查看列表formatter</p>
</li>
</ul>
<h2 id="Summary-string"><a href="#Summary-string" class="headerlink" title="Summary string"></a>Summary string</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type summary add --summary-string &#34;$&#123;var[].name&#125;&#34; NSArray&#60;Person *&#62; &#10;type summary add Foobar --summary-string &#34;a foobar&#34; --category newcategory&#10;type category enable newcategory&#10;type summary add --summary-string  &#34;[ name: $&#123;var._name&#125;, age: $&#123;var._age&#125; ]&#34; Person</span><br></pre></td></tr></table></figure>
<h2 id="Command"><a href="#Command" class="headerlink" title="Command"></a>Command</h2><pre><code>* **command source ~/.lldbinit** 重现加载lldb配置文件
* `thread return` &lt;value&gt; 
* `bt` 函数调用回硕
* `frame variable` 打印变量
* `thread jump --by 2` 跳过两行，可用于跳过if
* `thread jump --line 102` 跳到102行
* `expression (void)[CATransaction flush]` 立即刷新UI
* `po [[[UIApplication sharedApplication] keyWindow] recursiveDescription]`
* `p/x &lt;var&gt;` 以16进制打印
* `p/t &lt;var&gt;` 以2进制打印 
* `po [$myButton allTargets]` 打印按钮关联的target
* `image lookup --address &lt;address&gt;` 查看符号信息
* `target stop-hook add -o &quot;p self.view&quot;` 断点时自动执行
* `display self.view` 同上
* `po [[UIWindow keyWindow] _autolayoutTrace]` 查看有问题的自动布局
* lldb定义变量只能以`$`开头
* lldb扩展命令集 Chisel
* [lldb文档](https://developer.apple.com/library/mac/documentation/IDEs/Conceptual/gdb_to_lldb_transition_guide/document/lldb-command-examples.html#//apple_ref/doc/uid/TP40012917-CH3-SW5)
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://purkylin.github.io/2016/09/13/lldb/" data-id="cizga4nfx0005hm3ofy3p1086" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-python" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/13/python/" class="article-date">
  <time datetime="2016-09-13T04:58:38.000Z" itemprop="datePublished">2016-09-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/13/python/">Python</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="pip"><a href="#pip" class="headerlink" title="pip"></a>pip</h1><ul>
<li>自动生成requirement.txt<br><code>pipreqs</code></li>
<li><p>install package<br><code>pip install -r requirements.txt</code></p>
</li>
<li><p>安装python3<br>python3 -m pip install pymongo</p>
</li>
</ul>
<p>#越狱机器装reveal</p>
<ul>
<li>安装openssl, 密码默认是：alpine<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp ~/Desktop/libReveal.dylib root@172.16.10.149:/Library/MobileSubstrate/DynamicLibraries&#10;scp ~/Desktop/libReveal.plist root@172.16.10.149:/Library/MobileSubstrate/DynamicLibraries</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="Omnigraffle-Pro-6注册码／许可证"><a href="#Omnigraffle-Pro-6注册码／许可证" class="headerlink" title="Omnigraffle Pro 6注册码／许可证"></a>Omnigraffle Pro 6注册码／许可证</h1><ul>
<li>名字: mojado@live.com     </li>
<li>序列号: IZAH-IRLI-EFDI-XAEM-JBJJ-JEFJ-BJJ</li>
</ul>
<h1 id="scheme"><a href="#scheme" class="headerlink" title="scheme"></a>scheme</h1><p>~!%^&amp;#debug#~!%^&amp;#://reportCrash</p>
<h1 id="官方fabric不支持python3，用python3能安装成功但运行错误"><a href="#官方fabric不支持python3，用python3能安装成功但运行错误" class="headerlink" title="官方fabric不支持python3，用python3能安装成功但运行错误"></a>官方fabric不支持python3，用python3能安装成功但运行错误</h1><ul>
<li>tutor<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">from fabric.api import run&#10;&#10;def host_type():&#10;    run(&#39;uname -s&#39;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>将上上述代码保存为fabfile.py</p>
<h1 id="ssh-connect-to-host-localhost-port-22-Connection-refused"><a href="#ssh-connect-to-host-localhost-port-22-Connection-refused" class="headerlink" title="ssh: connect to host localhost port 22: Connection refused"></a>ssh: connect to host localhost port 22: Connection refused</h1><p>没有开启ssh server, mac下需要在共享-&gt;远程登录里勾选</p>
<p>gunicorn myproject.wsgi</p>
<h1 id="install-pip"><a href="#install-pip" class="headerlink" title="install pip"></a>install pip</h1><p>curl -O <a href="https://bootstrap.pypa.io/get-pip.py" target="_blank" rel="external">https://bootstrap.pypa.io/get-pip.py</a><br>python get-pip.py</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://purkylin.github.io/2016/09/13/python/" data-id="cizga4nfu0004hm3ovd23qqg7" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-reverse" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/13/reverse/" class="article-date">
  <time datetime="2016-09-13T04:53:37.000Z" itemprop="datePublished">2016-09-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/13/reverse/">macos逆向</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h2><ul>
<li>重新签名<br><code>codesign --deep -f -s &quot;Mac Developer: purkylin@gmail.com (K2WB492RBL)&quot; &lt;App&gt;</code></li>
<li>查看签名<br><code>codesign -d --verbose=3 &lt;App&gt;</code></li>
<li><p>查看dylib偏移<br><code>image list -o</code></p>
</li>
<li><p><strong>ASLR</strong>: Address space layout random</p>
</li>
<li><p><strong>SIP</strong>: system integrity protection</p>
<p>  在 OS X El Capitan 中有一个跟安全相关的模式叫 SIP（System Integrity Protection ），它禁止让软件以 root 身份来在 Mac 上运行，在升级到 OS X 10.11 中或许你就会看到部分应用程序被禁用了，这些或许是你通过终端或者第三方软件源安装。对于大多数用户来说，这种安全设置很方便，但是也有些开发者或者高级 Mac 用户不需要这样的设置。<br>  重启 Mac，按住Command+R键直到Apple logo 出现，进入Recovery Mode<br>  点击 Utilities &gt; Terminal, 在 Terminal中输入<code>csrutil disable</code>，之后回车<br>  重启 Mac,这样SIP安全设置就已经被关闭了，如果想重新开启该安全设置，重复上面步骤，在第三步中将命令更换为 csrutil enable。</p>
<p>  <strong>kext signing</strong> 苹果认证的ssid</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo csrutil enable &#8211;without fs&#65306;Filesystem Protections disable&#10;sudo csrutil enable &#8211;without kext&#65306;Kext Signing disable&#10;sudo csrutil enable &#8211;without debug&#65306;Debugging Restrictions disable&#10;sudo csrutil enable &#8211;without nvram&#65306;NVRAM Protections disable&#10;sudo csrutil enable &#8211;without dtrace&#65306;DTrace Restrictions disable</span><br></pre></td></tr></table></figure>
</li>
<li><p>安全模式启动<br>请执行以下步骤以启动进入安全模式。启动或重新启动 Mac。听到启动声后，立即按住 Shift 键。<br>看到屏幕上出现 Apple 标志后松开Shift键<br>恢复模式启动<br>恢复模式的具体操作是：开机时按住键盘上的“Option”键，在开机选择菜单中选择“Recovery HD”即可</p>
</li>
<li><p>ptrace 反调试<br>下面的命令可以反调试， 如果调用一次很容易被hack掉<br><code>ptrace(PT_DENY_ATTACH, 0, 0, 0);</code><br>把上面命令中的<strong>PT_DENY_ATTACH</strong>替换成<strong>0x0a</strong>即可允许调试</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#define PT_TRACE_ME 0 /* child declares it&#39;s being traced */&#10;#define PT_READ_I 1 /* read word in child&#39;s I space */&#10;#define PT_READ_D 2 /* read word in child&#39;s D space */&#10;#define PT_READ_U 3 /* read word in child&#39;s user structure */&#10;#define PT_WRITE_I 4 /* write word in child&#39;s I space */&#10;#define PT_WRITE_D 5 /* write word in child&#39;s D space */&#10;#define PT_WRITE_U 6 /* write word in child&#39;s user structure */&#10;#define PT_CONTINUE 7 /* continue the child */&#10;#define PT_KILL 8 /* kill the child process */&#10;#define PT_STEP 9 /* single step the child */&#10;#define PT_ATTACH 10 /* trace some running process */&#10;#define PT_DETACH 11 /* stop tracing a process */&#10;#define PT_SIGEXC 12 /* signals as exceptions for current_proc */&#10;#define PT_THUPDATE 13 /* signal for thread# */&#10;#define PT_ATTACHEXC 14 /* attach to running process with signal exception */&#10;&#10;#define PT_FORCEQUOTA 30 /* Enforce quota for root */&#10;#define PT_DENY_ATTACH 31</span><br></pre></td></tr></table></figure>
<ul>
<li><p>调用约定<strong>ABI</strong><br><a href="http://people.freebsd.org/~obrien/amd64-elf-abi.pdf" target="_blank" rel="external">参考</a></p>
<ol>
<li>传参<br>If the class is MEMORY, pass the argument on the stack.</li>
<li>If the class is INTEGER, the next available register of the sequence %rdi,<br>%rsi, %rdx, %rcx, %r8 and %r9 is used12 .</li>
<li>If the class is SSE, the next available SSE register is used, the registers are<br>taken in the order from %xmm0 to %xmm7.</li>
<li>If the class is SSEUP, the eightbyte is passed in the upper half of the least<br>used SSE register.</li>
<li><p>If the class is X87, X87UP or COMPLEX_X87, it is passed in memory.</p>
<p>Note that %r11 is neither required to be preserved, nor is it used to pass arguments. Making this register available as scratch register means that code in the PLT need not spill any registers when computing the address to which control needs to be transferred. %rax is used to indicate the number of SSE arguments passed to a function requiring a variable number of arguments. %r10 is used for passing a function’s static chain pointer.</p>
</li>
</ol>
</li>
</ul>
<h2 id="工具："><a href="#工具：" class="headerlink" title="工具："></a>工具：</h2><ul>
<li>Hopper</li>
<li>MachxView</li>
<li>Interface Inspector</li>
<li>class-dump</li>
</ul>
<h2 id="中文字符串查找"><a href="#中文字符串查找" class="headerlink" title="中文字符串查找"></a>中文字符串查找</h2><p>在字符串资源文件里查找对应的英文条目，然后放到hopper里查找即可</p>
<h2 id="实战"><a href="#实战" class="headerlink" title="实战"></a>实战</h2><h3 id="iPic-v1-2破解"><a href="#iPic-v1-2破解" class="headerlink" title="iPic v1.2破解"></a>iPic v1.2破解</h3><ol>
<li>查找函数<strong>sub_10008e</strong>，把<code>000000010008ee66         je         0x10008ee97</code> 这一行改为 nop</li>
<li>查找函数<strong> sub_1001036b0</strong>，直接返回1</li>
<li>重新签名</li>
</ol>
<h3 id="Reveal2-破解"><a href="#Reveal2-破解" class="headerlink" title="Reveal2 破解"></a>Reveal2 破解</h3><ol>
<li>绕过ptrace反调试</li>
<li>绕过完整性检查， 让函数<strong>sub_1001ecbc0</strong>返回1即可</li>
<li>绕过启动时弹窗，reveal2使用的是swfit重写的，证书管理使用的是devmate库，<br>一般启动代码如下：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">if (!DMKIsApplicationActivated(NULL))&#10;&#123;&#10;    [DevMateKit runActivationDialog:nil inMode:DMActivationModeModal];&#10;    if (!DMKIsApplicationActivated(NULL))&#10;    &#123;&#10;        [NSApp terminate:nil];&#10;    &#125;&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>我异想天开如果修改这个库，让这个函数<strong>DMKIsApplicationActivated</strong>返回1<br>即可，不知是否可行，我只是改了framework,未改签名，发现运行出错，不知是否可行，有待测试。</p>
<p>找到这个函数<strong>sub_1000d5c80</strong>，反转第一个if即可绕过弹出</p>
<ol>
<li>enable菜单</li>
<li>以invalidMenu为关键字查找，在适当的位置反转条件即可。只是有部分菜单不能enable,如file/new window， 不知为什么，有待解决</li>
<li><h3 id="Reveal6-破解"><a href="#Reveal6-破解" class="headerlink" title="Reveal6 破解"></a>Reveal6 破解</h3>相对Reveal2， Reveal6破解难度增加不少，让人摸不到头脑</li>
<li>首先禁用反调试， 老生常谈，找Entry Point,跳到这个地址000000010028d50c， 找到ptrace语句，把它第一个参数替换为0x0a</li>
<li>隐藏弹窗，这一步花费了很长时间，最后实在没方法，既然是弹窗，一定会调用runModel函数，搜索runModel找到方法，来到这个地址000000010003a460，让这个函数直接返回1即可，然后继续执行会调用00000001002b00e4这个函数让它返回0.</li>
<li>签名不解释</li>
<li>签完名后运行会出现“This copy of Reveal is damaged”对话框。搜索“Damaged”，会发现”Application Damaged Alert“，跟进这个函数（0000000100161d30）直接返回即可。</li>
<li>再次重新签名，👌</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://purkylin.github.io/2016/09/13/reverse/" data-id="cizga4nft0003hm3ovvsbui6b" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-https" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/13/https/" class="article-date">
  <time datetime="2016-09-13T04:50:55.000Z" itemprop="datePublished">2016-09-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/13/https/">HTTPS证书生成</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="免费的证书认证机构letsencrypt"><a href="#免费的证书认证机构letsencrypt" class="headerlink" title="免费的证书认证机构letsencrypt"></a>免费的证书认证机构<a href="https://letsencrypt.org" target="_blank" rel="external">letsencrypt</a></h1><ul>
<li>证书管理工具certbot, <a href="https://certbot.eff.org/" target="_blank" rel="external">安装</a></li>
<li><p>生成证书, 有效期90天可续期<br><code>certbot certonly --standalone -d purkylin.com -d www.purkylin.com</code><br>输出如下：</p>
<ul>
<li>Congratulations! Your certificate and chain have been saved at<br> /etc/letsencrypt/live/purkylin.com/fullchain.pem. Your cert will<br> expire on 2016-10-22. To obtain a new or tweaked version of this<br> certificate in the future, simply run certbot again. To<br> non-interactively renew <em>all</em> of your certificates, run “certbot<br> renew”<ul>
<li>If you lose your account credentials, you can recover through<br>e-mails sent to purkylin@gmail.com.</li>
<li>Your account credentials have been saved in your Certbot<br>configuration directory at /etc/letsencrypt. You should make a<br>secure backup of this folder now. This configuration directory will<br>also contain certificates and private keys obtained by Certbot so<br>making regular backups of this folder is ideal.</li>
<li>If you like Certbot, please consider supporting our work by:</li>
</ul>
</li>
</ul>
</li>
<li><p>更新证书 <code>certbot renew --quiet</code></p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://purkylin.github.io/2016/09/13/https/" data-id="cizga4ng10007hm3ops9jamza" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-IOS" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/13/IOS/" class="article-date">
  <time datetime="2016-09-13T04:47:13.000Z" itemprop="datePublished">2016-09-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/13/IOS/">IOS</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="IOS证书目录"><a href="#IOS证书目录" class="headerlink" title="IOS证书目录"></a>IOS证书目录</h2><p><code>~/Library/MobileDevice/Provisioning Profiles</code></p>
<h2 id="3D-touch"><a href="#3D-touch" class="headerlink" title="3D touch"></a>3D touch</h2><ul>
<li>ios 本地通知 从后台点击进入前台，状态为inactive</li>
<li>应用切换到后台会继续执行大约5秒</li>
<li>使用estimatedHeightForRowAtIndexPath reloadCell会自动把tableview滚动到顶部</li>
<li>静态启动<br>静态的启动方式定义在info.plist中的字典的数组UIApplicationShortcutItems 中，需要手动添加，你需要在每个字典中对一下的键（key）提供有效值(value)<ul>
<li>UIApplicationShortcutItemType   （必须的）： 要求独一无二的字符串标志对每个 item</li>
<li>UIApplicationShortcutItemTitle（必须的）：显示在UI 上的 item的名字</li>
<li>UIApplicationShortcutItemSubtitle(可选的)：显示在UI上的item 的副标题名字</li>
<li>UIApplicationShortcutItemIconType(可选的)：系统系统的图标，所有可支持的 都可以在 here找到</li>
<li>UIApplicationShortcutItemIconFile (可选的)：自定义的图片名称在assets目录下，如果提供了，UIApplicationShortcutItemIconType 将会被忽略，图标应该是 35 * 35 的单色图片(？此处有待考究？)，，所有可支持的 键(key)都可以在 here 找到。</li>
</ul>
</li>
</ul>
<h2 id="weakself"><a href="#weakself" class="headerlink" title="weakself"></a>weakself</h2><p><strong>@weakify</strong> 在block外使用，定义了一个局部变量叫self<em>weak</em>,<br><strong>@strongify</strong> 在block内执行，也定义了一个局部变量叫self, 会shadow掉外部的self， 引用self<em>weak</em>,离开block, self恢复为全局的self,没有shadow</p>
<h2 id="Instrument"><a href="#Instrument" class="headerlink" title="Instrument"></a>Instrument</h2><p>进行内存检测时一定要关闭Zombiles 因为它不释放内存</p>
<ul>
<li>Persistent 正在使用的</li>
<li>Transient 临时的（会被释放）</li>
<li>Alloc 使用<br>  多次进入退出页面，观察内存是否有显著的增长即可知道是否有内存泄露<ul>
<li>statistics<br>  搜索某一对象，观察它的persistent的变化，如进入一个页面后，再退出，它的persistent应该变为0</li>
<li>generations<br>  进入前标记一下，进入后退出再标记下，多执行几次这样的操作，观差内存使用情况</li>
</ul>
</li>
</ul>
<h2 id="导入框架的头文件需要加入框架名称路径"><a href="#导入框架的头文件需要加入框架名称路径" class="headerlink" title="导入框架的头文件需要加入框架名称路径"></a>导入框架的头文件需要加入框架名称路径</h2><p>cocoapods 0.39.0以上版本会报错找不到头文件<br>如Fabric frameword, 可使用如下方式<br><code>#import &lt;Fabric/Fabric.h&gt;</code></p>
<h2 id="Xcode搜索中文字符串"><a href="#Xcode搜索中文字符串" class="headerlink" title="Xcode搜索中文字符串"></a>Xcode搜索中文字符串</h2><p>打开”Find Navigator”<br>切换搜索模式到 “Find &gt; Regular Expression”<br>输入<code>@&quot;[^&quot;]*[\u4E00-\u9FA5]+[^&quot;\n]*?&quot;</code> (swift请去掉<code>@</code> 输入<code>&quot;[^&quot;]*[\u4E00-\u9FA5]+[^&quot;\n]*?</code> 就好了)</p>
<h2 id="ios-button-animation"><a href="#ios-button-animation" class="headerlink" title="ios button animation"></a>ios button animation</h2><p>使用uibutton.imageView前必须先设置一个image通过setImage:forState方法，否则不会显示<br>设置uibutton.imageView其实是设置前景图像不是background</p>
<h2 id="CocoaLumberjack-配合XcodeColors没有颜色"><a href="#CocoaLumberjack-配合XcodeColors没有颜色" class="headerlink" title="CocoaLumberjack 配合XcodeColors没有颜色"></a>CocoaLumberjack 配合XcodeColors没有颜色</h2><p>需要在scheme中添加环境变量<code>XcodeColors</code>, 值为<code>YES</code></p>
<h2 id="Xcode"><a href="#Xcode" class="headerlink" title="Xcode"></a>Xcode</h2><ul>
<li>xcode代码拖拽<br>先选中代码，鼠标指针移到该区域，等上一两秒再拖动<br><strong>&lt;# name #&gt;</strong>占位符</li>
<li>xcode 设置默认左括号单独一行<br><code>defaults write com.apple.Xcode XCCodeSenseFormattingOptions -dict BlockSeparator &quot;\n&quot;</code></li>
<li>xcode switch的case语句中不能直接定义变量，需要用大括号括起来</li>
<li><p>Xcode plugin</p>
<ul>
<li>可以用tab键补全版本，read命令显示插件禁用情况，delete命令删除配置文件，这样下次启动时会提示加载插件<br><code>$ defaults read com.apple.dt.Xcode DVTPlugInManagerNonApplePlugIns-Xcode-7.1.1</code></li>
<li>信任插件<br><code>sudo xcodebuild -license</code></li>
</ul>
</li>
<li><p>Option + 点击Product菜单出现其他的菜单</p>
</li>
<li>设置键盘类型一定要在becomeFirstResponse之前调用，否则无效</li>
<li>从一个键盘布局切换到另一个布局可能需要先resign再becomeFirstResponse</li>
<li>app启动时AFNetworkReachabilityManager检查网络状态为AFNetworkReachabilityStatusUnknown，启动后正常</li>
</ul>
<h2 id="ios禁用https"><a href="#ios禁用https" class="headerlink" title="ios禁用https"></a>ios禁用https</h2><p>在Info.plist中添加NSAppTransportSecurity类型Dictionary。<br>在NSAppTransportSecurity下添加NSAllowsArbitraryLoads类型Boolean,值设为YES<br>(修改测试的info.plist无效)</p>
<h2 id="exclusiveTouch属性"><a href="#exclusiveTouch属性" class="headerlink" title="exclusiveTouch属性"></a>exclusiveTouch属性</h2><p>注：同时按下俩个按钮，在响应的响应事件里屏蔽彼此也是会调用的<br>UIView 的exclusiveTouch属性<br>exclusiveTouch的意思是UIView会独占整个Touch事件，具体的来说，就是当设置了exclusiveTouch的 UIView是事件的第一响应者，那么到你的所有手指离开前，其他的视图UIview是不会响应任何触摸事件的，对于多点触摸事件，这个属性就非常重要，值得注意的是：手势识别（GestureRecognizers）会忽略此属性。<br>列举用途：我们知道ios是没有GridView视图的，通常做法是在UITableView的cell上加载几个子视图，来模拟实现 GridView视图，但对于每一个子视图来说，就需要使用exclusiveTouch，否则当同时点击多个子视图，那么会触发每个子视图的事件。当然 还有我们常说的模态对话框</p>
<h2 id="其它"><a href="#其它" class="headerlink" title="其它"></a>其它</h2><ul>
<li>viewWillAppear and viewWillDisappear前后台切换时不会调用</li>
<li>EXC_BREAKPOINT EXC_ARM_BREAKPOINT 僵尸断点调试即可，内存被释放了</li>
<li>苹果在官方声明中表示，现有的 wwdr中间证书将在 2016年2月14 日到期,请重新下载安装证书可能失败，由于你安装了apple configurator,默认使用它打开</li>
<li>Swift中String类型有些方法无法支持，只能转换为NSString来操作，幸好String与NSString转换十分简单 如·(str as NSString).rangeOfString(“(days)”)·</li>
<li><p>uigestuereconigzer 一般情况下不需要设置代理，只需在addRecognizer里填入参数即可；但是一些其的委托函数像<br><code>- (BOOL)gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldReceiveTouch:(UITouch *)touch</code><br>必须设置代理才会被调用</p>
</li>
<li><p>生成国际化文件,xargs是一条Unix和类Unix操作系统的常用命令。它的作用是将参数列表转换成小块分段传递给其他命令，以避免参数列表过长的问题<br><code>find . -name \*.m | xargs genstrings -o zh-Hans.lproj</code></p>
</li>
<li><p>截屏</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">UIImage</span>*)captureScreen</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">UIGraphicsBeginImageContext</span>(<span class="keyword">self</span><span class="variable">.view</span><span class="variable">.frame</span><span class="variable">.size</span>);</span><br><span class="line">    <span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</span><br><span class="line">    [<span class="keyword">self</span><span class="variable">.view</span><span class="variable">.layer</span> renderInContext:context];</span><br><span class="line">    <span class="built_in">UIImage</span> *image = <span class="built_in">UIGraphicsGetImageFromCurrentImageContext</span>();</span><br><span class="line">    <span class="built_in">UIGraphicsEndImageContext</span>();</span><br><span class="line">    <span class="keyword">return</span> image;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>利用lipo 编译合并iPhone模拟器和真机通用的静态类库<br><code>lipo -create Debug-iphonesimulator/libmylib.a Debug-iphoneos/libmylib.a -output libmylib.o</code></p>
</li>
<li><p>UITableViewCell 的checkmark 需要手动用数组管理，否则滚动时会随机;不能触发accessoryButtonTappedForRowWithIndexPath事件，只有disclose类型的accessor才可</p>
</li>
<li><p>change xcode default version<br>xcode-select -print-path<br>sudo xcode-select -switch /Applications/Xcode.app<br>Xcode-&gt;Preference-&gt;Location-&gt;Command line tools -&gt; [select version]</p>
</li>
<li><p>uitableview delete cell<br>  数据源册除一定要放在前面，否则异常</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="keyword">self</span><span class="variable">.config</span> removeObjectAtIndex:indexPath<span class="variable">.row</span>];</span><br><span class="line">[tableView deleteRowsAtIndexPaths:@[indexPath] withRowAnimation:<span class="built_in">UITableViewRowAnimationFade</span>];</span><br></pre></td></tr></table></figure>
</li>
<li><p>自定义手势会屏蔽button事件，在</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">BOOL</span>)gestureRecognizer:(<span class="built_in">UIGestureRecognizer</span> *)gestureRecognizer shouldReceiveTouch:(<span class="built_in">UITouch</span> *)touch</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>这个函数里做相应处理即可</p>
<ul>
<li>CocoaPods更新慢的问题<br>最近可能由于出国节点的问题，无论是执行pod install还是pod update都卡在Analyzing dependencies不动了，慢到无以复加的地步，无法忍受。<br>其实原因在于以上两个命令执行时会升级CocoaPods的spec仓库，加一个参数可以省略这一步，然后速度就会提升不少。加参数的命令如下 [遗失，待补充]</li>
<li><p>uiscrollview上添加button可能没有highlight效果，设置scrollview的delaysContentTouches属性为no即可</p>
</li>
<li><p>设置圆角不会离屏渲染，同时设置<code>maskToBounds=YES</code>时才会</p>
</li>
<li><p>缩放模式</p>
<ul>
<li>scale mode</li>
<li>scale aspect fill 填满整个空间，等比缩放，可能扩展到区域外</li>
<li>scale to fill 非等比填满</li>
<li>scale aspect fit 尽可能等比填满，不可能超出区域</li>
</ul>
</li>
<li><p>IB中拖动view的层次，把一个view拖动到另一个view上，若拖动点在下面的view边界里，会自动变成下面view的子view，否则是兄弟； 如果确实想把一个小的view拖到一个大view上面，可反过来操作，然后通过菜单editor－&gt;arrange把大view放到后面, 也可通过这种方法，使用键盘的方向键进行移动.</p>
</li>
<li><p>set tableview seperator picture</p>
</li>
</ul>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UIImage</span> *img = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"list_single_null_line.png"</span>];</span><br><span class="line"><span class="keyword">self</span><span class="variable">.tableView</span><span class="variable">.separatorColor</span> = [<span class="built_in">UIColor</span> colorWithPatternImage:img];</span><br></pre></td></tr></table></figure>
<ul>
<li><p>xcode<br>把资源以目录的形式加入xcode中, 同时, 在加入时, 选择”Create Folder References for any  added folders”, 而不是默认的”Recursively create groups for any added folders”, 加入后,xcode左侧树状结构内显示的图标是蓝色而非黄色. 这样只能以路径形式方问</p>
</li>
<li><p>bundle<br>  xcode 中不能直接创建bundle， 但是你可以把文件夹名的后辍改为”.bundle”, 然后再导入到xcode中就变成bundle了</p>
</li>
<li><p>引用文件<br>  xcode中的文件夹两种颜色根据导入的方式不同，把文件夹拖到xcode中会提示一个对话框，选第一个颜色为黄色，不保存目录结构，都放到bundle的根目录中，观察模拟器中的程序所在的目录的结构可知；选第二项颜色为蓝色，保持目录结构</p>
</li>
<li><p>图片资源国际化<br>  把相关的图片拖到相应的语言目录中，然后再把语言目录拖到xcode中， 注意颜色均为蓝色，不能使用imageNamed加载图片，只能使用<br>  NSString <em>path =[[NSBundle mainBundle] pathForResource:@”fname” ]<br>  UIImage </em>img = [UIImage imageWithContentOfFile:path];</p>
</li>
<li><p>有可能是模拟器器题，换成真机测试，没有编译模拟器版本的库<br>error: No architectures to compile for (ONLY_ACTIVE_ARCH=YES, active arch=x86_64, VALID_ARCHS=i386).</p>
</li>
<li><p>最近可能由于出国节点的问题，无论是执行pod install还是</p>
</li>
<li><p>update都卡在Analyzing dependencies不动了，慢到无以复加的地步，无法忍受。<br>pod install –verbose –no-repo-update<br>pod update –verbose –no-repo-update</p>
</li>
<li><p>ipa generate<br>  找到archieve的位置， 右键显示包内容，在其子目录下Product/Applications会发现应用程序，把这个文件拖到itues的应用程序中就会生成一个ipa文件</p>
</li>
<li><p>join<br>数据表的连接有: </p>
</li>
</ul>
<ol>
<li>内连接(自然连接): 只有两个表相匹配的行才能在结果集中出现 </li>
<li>外连接: 包括 <ol>
<li>左外连接(左边的表不加限制) </li>
<li>右外连接(右边的表不加限制) </li>
<li>全外连接(左右两表都不加限制) </li>
</ol>
</li>
<li>自连接(连接发生在一张基表内)</li>
</ol>
<ul>
<li><p>ios 国际化<br>  ibtool –generate-strings-file ~/…/XXXViewController.strings XXXViewController.xib<br>  xcode 6 中引入了标准的国际化文件 XLIFF, 只是作为中间文件用最终还是用strings文件，可以调试预览国际化<br>  本地化图片： 单张图片不解释和strings文件一样，<br>  如果想本地化很多图片，放到一个文件夹里，再放入相应的语言目录里，最后以引用的形式导入到xcode中，接下来的操作都一样了。注意无法像单个文件哪样直接本地化，以后的xcode可能就可以了。 切记不要再把语言文件夹导入到项目中，调试的时后可能都没问题，打包的时候就会发现问题了，你会发再无论怎么弄只有一个主localization文件，不要把一个文件引用多次导入到项目中，或copy bundle resource，都会出现莫名其秒的问题</p>
</li>
<li><p>autolayout<br> |  代表parent view, 不要随便加，<br> H, V 代表方向，大写的，不能小写</p>
</li>
<li><p>UICollectionViewController代码创建时一定要指定layout, 此外UICollectionViewFlowlayout的代理和collectionview的代理是一个，不能单独设置，使用这种布局一般要实现UICollectionViewDelegateFlowLayout协议</p>
</li>
<li><p>transfrom<br>变换后bounds不变center不变，frame改变，链式变换实际交果与顺序添加相反， 下面的变换先旋转后偏移</p>
<p>v2.transform = CGAffineTransformMakeTranslation(40, 0)<br>v2.transform = CGAffineTransformRotate(v2.transform, π / 4)</p>
</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> t = <span class="type">CGAffineTransformMakeTranslation</span>(<span class="number">40</span>, <span class="number">0</span>)</span><br><span class="line"><span class="keyword">let</span> r = <span class="type">CGAffineTransformMakeRotation</span>(π / <span class="number">8</span>)</span><br><span class="line"><span class="comment">// 这个函数先执行t变换然后r变换</span></span><br><span class="line">v2.transform = <span class="type">CGAffineTransformConcat</span>(t, r)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 先r然后t,然后r'</span></span><br><span class="line">v2.transform = <span class="type">CGAffineTransformConcat</span>(v2.transform, r)</span><br><span class="line">v2.transform = <span class="type">CGAffineTransformConcat</span>(v2.transform, t)</span><br><span class="line"><span class="comment">// v2.transform = CGAffineTransformConcat(CGAffineTransformInvert(r), v2.transform)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 先t然后r,然后t</span></span><br><span class="line">v2.transform = <span class="type">CGAffineTransformConcat</span>(v2.transform, r)</span><br><span class="line">v2.transform = <span class="type">CGAffineTransformConcat</span>(v2.transform, t)</span><br><span class="line"><span class="comment">// v2.transform = CGAffineTransformConcat(v2.transform, t)</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>rotate matrix</p>
<p>rotate matrix, tx = ty = 0 </p>
<p>|col1|col2|col3|<br>|:—-:|:——:|:—–:|<br>|cosa|  sina| 0 |<br>|-sina| cosa| 0 |<br>|tx    |ty  | 0 | </p>
<p><code>x&#39; = x * cosa - y * sina</code><br><code>y&#39; = x * sina + y * cosa</code></p>
</li>
<li><p>setNeedDisplay 下一周期执行，而needLayoutIfNeed立即执行</p>
</li>
<li>animation<br>CAKeyFrameAnimation 需要设置additive为yes，否则默认从0开始,不能重用.<br>Core Animation维护了两套layer层级：数据模型layer层树和表现layer层树。前者存放层的状态而后者展示动画值。实际上有三层render tree, 不过是私有的.默认情况下animation不会直接修改表现层，并在动画结束的时候被移除掉。一旦动画被移除了，表现层将会回到初始的状态.解决方案有两个：<br>第一种方式是直接更新数据层的属性（推荐），因为这么做使动画完全可选。一旦动画结束并且从layer层移除，那么表现层将会与数据层契合，正好符合动画的最后一帧。<br>或者你可以通过给动画的fillMode赋值为kCAFillModeForwards同时将removedOnCompletion设置为NO来让动画保持最后一帧的状态。</li>
<li>自动布局的优先级，数值越大优先，最大是1000, 正好与linux进程的优先级相反</li>
<li>按住Cmd和Shift，然后在需要选择的view上方按右键，就可以列出在点击位置上所有的view的列表。藉此就可以方便快速地选中想要的view了。<br>Shift+Cmd+_或者Shift+Cmd+|即可在选中的view上添加一条水平或者垂直中心的辅助线 </li>
<li>anchorpoint position 两者互不影响，anchor上移frame下移， 修改anchor同时会修改frame,但不修改anchor, position与center都是anchor在父视图的位置</li>
<li>Binary operator ‘|’ cannot be applied to two UIViewAutoresizing operands<br>view.autoresizingMask = [.FlexibleWidth, .FlexibleHeight]</li>
<li>swift aop函数不被调用，参数需要转换成oc对象如NSNumber,新设备不受影响，老设备如iphone5</li>
<li>真机调试出现如下错误： Could not find Developer Disk Imagez。<br>xcode版本低于手机系统版本，请升级xcode版本</li>
<li>判断编译环境</li>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">if [ &#34;$CONFIGURATION&#34; != &#34;Debug&#34;]; then&#10;    ./hjclass/External/Crashlytics/Fabric.framework/run be45a1795aa3bae713b7c67631da76b7e7b68738 b741f4f0956d8dd52a166baef3f72119bb87ddf8779be1e8fdc077321ac19d80&#10;fi</span><br></pre></td></tr></table></figure>
</li>
<li><p>改变应用的某些设置选项时，如相机权限，应用会自动重启 </p>
</li>
<li><p>Error: CUICatalog: Invalid asset name supplied: (null), or invalid scale factor : 2.000000<br>This one appears when someone is trying to put nil eventually in [UIImage imageNamed:]<br>Add symbolic breakpoint for [UIImage imageNamed:]<br>Add $arg3 == nil condition (on Simulator) or $r0 == nil condition on iPhone device<br>Run your application and see where is the problem persist<br>It defined in usr/include/AvailabilityMacros.h:</p>
</li>
<li><p>废弃api</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#define DEPRECATED_ATTRIBUTE        __attribute__((deprecated))&#10;#define DEPRECATED_MSG_ATTRIBUTE(msg) __attribute((deprecated((msg))))</span><br></pre></td></tr></table></figure>
</li>
<li><p>FBSOpenApplicationErrorDomain Code=3<br>升级xcode模拟器运行会出现如此问题，重启模拟器或<br>iOS Simulator -&gt; Reset Contents and Settings… -&gt; Reset均可</p>
</li>
<li>ios9 &amp; iphon6s上同一时间通知可能响应两次</li>
<li>本地通知可以模拟器调试，universal link不可以</li>
<li>ios8 以前设备旋转[UIScreen mainScreen].bounds不改变， 而ios8之后会改变，且自定义window不会旋转或改变大小，<a href="http://stackoverflow.com/questions/26706050/custom-uiwindows-do-not-rotate-correctly-in-ios-8" target="_blank" rel="external">参考</a></li>
<li><p>ios项目启用http请求<br>在Info.plist中添加NSAppTransportSecurity类型Dictionary。<br>在NSAppTransportSecurity下添加NSAllowsArbitraryLoads类型Boolean,值设为YES</p>
</li>
<li><p>Carthage包管理</p>
<ol>
<li>brew install carthage</li>
<li>touch Cartfile</li>
<li>edit Cartfile</li>
<li>carthage update</li>
<li>draw framework to your project</li>
</ol>
</li>
<li>二维码扫面区域<br>需要指定分辨率， aspectfill模式会填充整个view,有可能多出一部分，这时就会进行补偿</li>
<li><p>从CIImage转换成UIImage后,获取data,保存都会失败，因为CIImage是惰性加载</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let savedImage = self.previewImageView.image!.CIImage&#10;convertToUIImageFormCIImage(savedImage) // ok&#10;func convertToUIImageFormCIImage(src:CIImage) -&#62; UIImage &#123;&#10;    let context = CIContext()&#10;    let ref = context.createCGImage(src, fromRect: src.extent)&#10;    return UIImage(CGImage: ref)&#10;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>NEHotspotHelper 只有真机可用</p>
<ol>
<li>申请权限</li>
<li>重新生成profile,并导入到项目中</li>
<li>在项目配置-&gt;Capabilities里开启Wireless Accessory Configuration和Background Modes, 此时如果没有entitlements文件会自动生成一个，打开该文件，添加一个条目<br>·com.apple.developer.networking.HotspotHelper·，类型为bool,值为true,</li>
<li>打开Info.plist文件在Required background modes下加入一个子条目：network-authentication，<br>到此配置完成</li>
<li>注意有些函数只在系统的wifi列表页才有效</li>
</ol>
</li>
<li><p>CADisplayLink<br>只读的CFTimeInterval值，表示屏幕显示的上一帧的时间戳，这个属性通常被target用来计算下一帧中应该显示的内容。<br>打印timestamp值，其样式类似于：<br>179699.631584<br>虽然名为时间戳，但这和常见的unix时间戳差异很大，事实上这是CoreAnimation使用的时间格式。每个CALayer都有一个本地时间</p>
</li>
<li><p><code>do {} while (0)</code> 的好处， 如果一个宏在if的后边执行，而这个宏有多个语句，不加while有可能只执行一句，<a href="http://www.cnblogs.com/bastard/archive/2011/11/24/2262195.html" target="_blank" rel="external">参见</a></p>
</li>
<li><p>carthage package 设置<br><code>run script: /usr/local/bin/carthage copy-frameworks</code><br>Input file: eg. <code>$(SRCROOT)/Carthage/Build/iOS/Box.framework</code></p>
</li>
<li><p>scheme</p>
<ol>
<li>自定义scheme info.plist/URL types</li>
<li>白名单 info.plist/LSApplicationQueriesSchemes</li>
<li>打开外部应用时有时需要验证给scheme添加一些奇怪的字符串</li>
</ol>
</li>
<li><p>swift NS_OPTIONS<br>swift中没有这个类型，不过可以用OptionSetType替代,没有前者好用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public struct ReserveTimeStatus : OptionSetType &#123;&#10;    public let rawValue: Int&#10;    public init(rawValue: Int) &#123; self.rawValue = rawValue&#125;&#10;    &#10;    static let Inter15m = ReserveTimeStatus(rawValue: 1)&#10;    static let Live15m = ReserveTimeStatus(rawValue: 2)&#10;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>oc中不能导入的swift类型</p>
<ul>
<li>Generics</li>
<li>Tuples</li>
<li>Enumerations defined in Swift without Int raw value type</li>
<li>Structures defined in Swift</li>
<li>Top-level functions defined in Swift</li>
<li>Global variables defined in Swift</li>
<li>Typealiases defined in Swift</li>
<li>Swift-style variadics</li>
<li>Nested types</li>
<li>Curried functions </li>
</ul>
</li>
<li><p>git本地忽略且不被覆盖<br>If you don’t want to create a .gitignore file to share with others, you can create rules that are not committed with the repository. You can use this technique for locally-generated files that you don’t expect other users to generate, such as files created by your editor.</p>
<p>Use your favorite text editor to open the file called .git/info/exclude within the root of your Git repository. Any rule you add here will not be checked in, and will only ignore files for your local repository.</p>
<p>In Terminal, navigate to the location of your Git repository.<br>Using your favorite text editor, open the file .git/info/exclude.</p>
</li>
<li><p>gitignore<br>gitignore文件中父目录被忽略，则子目录被重新加入无效， 需要一层一层的添加;重新加入<code>!</code>只对最近的规则有效，可以有多条， 例如下面的例子</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Carthage/*   # `*`&#26159;&#24517;&#35201;&#30340;&#65292;&#19981;&#21253;&#25324;&#24403;&#21069;&#25991;&#20214;&#22841;&#20294;&#21253;&#25324;&#23376;&#20869;&#23481;&#10;!Carthage/Build&#10;&#10;Carthage/Build/iOS/*&#10;!Carthage/Build/iOS/SwiftTweak.framework</span><br></pre></td></tr></table></figure>
</li>
<li><p>lldb  </p>
<ul>
<li><code>thread return</code> <value> </value></li>
<li><code>bt</code> 函数调用回硕</li>
<li><code>frame variable</code> 打印变量</li>
<li><code>thread jump --by 2</code> 跳过两行，可用于跳过if</li>
<li><code>thread jump --line 102</code> 跳到102行</li>
<li><code>expression (void)[CATransaction flush]</code> 立即刷新UI</li>
<li><code>po [[[UIApplication sharedApplication] keyWindow] recursiveDescription]</code></li>
<li><code>p/x &lt;var&gt;</code> 以16进制打印</li>
<li><code>p/t &lt;var&gt;</code> 以2进制打印 </li>
<li><code>po [$myButton allTargets]</code> 打印按钮关联的target</li>
<li><code>image lookup --address &lt;address&gt;</code> 查看符号信息</li>
<li><code>target stop-hook add -o &quot;p self.view&quot;</code> 断点时自动执行</li>
<li><code>display self.view</code> 同上</li>
<li><code>po [[UIWindow keyWindow] _autolayoutTrace]</code> 查看有问题的自动布局</li>
<li>lldb定义变量只能以<code>$</code>开头</li>
<li>lldb扩展命令集 Chisel</li>
<li><a href="https://developer.apple.com/library/mac/documentation/IDEs/Conceptual/gdb_to_lldb_transition_guide/document/lldb-command-examples.html#//apple_ref/doc/uid/TP40012917-CH3-SW5" target="_blank" rel="external">lldb文档</a></li>
</ul>
</li>
<li><p>print indexPath.row<br>  <code>p indexPath.row     # error</code><br>  <code>p [indexPath row]   # error</code><br>  <code>p (NSInteger)[indexPath row] # ok</code><br>  <code>expr (void)NSLog(@&quot;%ld&quot;, (NSInteger)[indexPath row]) # ok</code><br>  总结， 有些时候不能使用.操作符，需要转成函数调用， 也可通过先执行这个命令一次<code>e @import UIKit</code></p>
</li>
<li><p>New document that describes how to use the OBJC_PRINT_REPLACED_METHODS environment variable to find category method name clashes.</p>
</li>
<li><p>plistbudy 修改plist文件</p>
<p>  <code>plistbuddy -c &#39;Print:CFBundleVersion&#39; &lt;fname&gt;</code><br>  <code>plistbuddy -c &#39;Set:CFBundleVersion 112&#39; &lt;fname&gt;</code></p>
</li>
<li><p><strong>gem uninstall cocoapods</strong> 卸载cocoapods</p>
</li>
<li><a href="http://www.jianshu.com/p/6c0758984805" target="_blank" rel="external">ios离线文档下载说明</a></li>
<li><code>codesign --verify</code> 验证签名</li>
<li><p>苹果在官方声明中表示，现有的 wwdr 中间证书将在 2016 年 2 月 14 日到期,请重新下载<br>安装证书可能失败，由于你安装了apple configurator,默认使用它打开</p>
</li>
<li><p>ios模拟器与PC共用剪切板，有时复制不了，解决方案，现在PC复制，然后切到模拟器，先按下Cmd + V, 然后快速单击可编辑区域，这时选择粘贴即可</p>
</li>
<li><p>IBDesignable</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">@IBDesignable</span> <span class="class"><span class="keyword">class</span> <span class="title">CircleView</span>: <span class="title">UIView</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> shapleLayer = <span class="type">CAShapeLayer</span>()</span><br><span class="line">    </span><br><span class="line">    <span class="preprocessor">@IBInspectable</span> <span class="keyword">var</span> start: <span class="type">CGFloat</span> = <span class="number">0.0</span> &#123;</span><br><span class="line">        <span class="keyword">didSet</span> &#123;</span><br><span class="line">            shapleLayer.strokeStart = start</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="preprocessor">@IBInspectable</span> <span class="keyword">var</span> end: <span class="type">CGFloat</span> = <span class="number">1.0</span> &#123;</span><br><span class="line">        <span class="keyword">didSet</span> &#123;</span><br><span class="line">            shapleLayer.strokeEnd = end</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">init</span>(frame: <span class="type">CGRect</span>) &#123;</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(frame: frame)</span><br><span class="line"><span class="comment">//        setup()</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">override</span> <span class="func"><span class="keyword">func</span> <span class="title">prepareForInterfaceBuilder</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.prepareForInterfaceBuilder()</span><br><span class="line">        setup()</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(coder: aDecoder)</span><br><span class="line">        setup()</span><br><span class="line"><span class="comment">//        fatalError("init(coder:) has not been implemented")</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="func"><span class="keyword">func</span> <span class="title">setup</span><span class="params">()</span></span> &#123;</span><br><span class="line">        layer.bounds = <span class="keyword">self</span>.bounds</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">let</span> path = <span class="type">UIBezierPath</span>(arcCenter: <span class="type">CGPointMake</span>(frame.width / <span class="number">2</span>, frame.height / <span class="number">2</span>), radius: frame.size.width / <span class="number">4</span>, startAngle: <span class="number">0</span>, endAngle: <span class="type">CGFloat</span>(<span class="type">M_PI</span>) * <span class="number">2</span>, clockwise: <span class="literal">true</span>)</span><br><span class="line">        </span><br><span class="line">        shapleLayer.path = path.<span class="type">CGPath</span></span><br><span class="line">        shapleLayer.strokeStart = start</span><br><span class="line">        shapleLayer.lineWidth = <span class="number">5</span></span><br><span class="line">        shapleLayer.fillColor = <span class="type">UIColor</span>.whiteColor().<span class="type">CGColor</span></span><br><span class="line">        shapleLayer.strokeEnd = end</span><br><span class="line">        shapleLayer.lineCap = <span class="string">"round"</span></span><br><span class="line">        shapleLayer.backgroundColor = <span class="type">UIColor</span>.whiteColor().<span class="type">CGColor</span></span><br><span class="line">        </span><br><span class="line">        shapleLayer.strokeColor = <span class="type">UIColor</span>.redColor().<span class="type">CGColor</span></span><br><span class="line">        layer.addSublayer(shapleLayer)</span><br><span class="line">        <span class="keyword">self</span>.backgroundColor = <span class="type">UIColor</span>.whiteColor()</span><br><span class="line">        <span class="built_in">print</span>(<span class="keyword">self</span>.bounds)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>NSAttributeStirng key</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSFontAttributeName;                  //&#23383;&#20307;&#65292;value&#26159;UIFont&#23545;&#35937;&#10;NSParagraphStyleAttributeName;        //&#32472;&#22270;&#30340;&#39118;&#26684;&#65288;&#23621;&#20013;&#65292;&#25442;&#34892;&#27169;&#24335;&#65292;&#38388;&#36317;&#31561;&#35832;&#22810;&#39118;&#26684;&#65289;&#65292;value&#26159;NSParagraphStyle&#23545;&#35937;&#10;NSForegroundColorAttributeName;       // &#25991;&#23383;&#39068;&#33394;&#65292;value&#26159;UIFont&#23545;&#35937;&#10;NSBackgroundColorAttributeName;       // &#32972;&#26223;&#33394;&#65292;value&#26159;UIFont&#10;NSLigatureAttributeName;              //  &#23383;&#31526;&#36830;&#20307;&#65292;value&#26159;NSNumber&#10;NSKernAttributeName;                  // &#23383;&#31526;&#38388;&#38548;, &#40664;&#35748;&#20026;5&#10;NSStrikethroughStyleAttributeName;    //&#21024;&#38500;&#32447;&#65292;value&#26159;NSNumber&#10;NSUnderlineStyleAttributeName;        //&#19979;&#21010;&#32447;&#65292;value&#26159;NSNumber&#10;NSStrokeColorAttributeName;           //&#25551;&#32472;&#36793;&#39068;&#33394;&#65292;value&#26159;UIColor&#10;NSStrokeWidthAttributeName;           //&#25551;&#36793;&#23485;&#24230;&#65292;value&#26159;NSNumber&#10;NSShadowAttributeName;                //&#38452;&#24433;&#65292;value&#26159;NSShadow&#23545;&#35937;&#10;NSTextEffectAttributeName;            //&#25991;&#23383;&#25928;&#26524;&#65292;value&#26159;NSString&#10;NSAttachmentAttributeName;            //&#38468;&#23646;&#65292;value&#26159;NSTextAttachment &#23545;&#35937;&#10;NSLinkAttributeName;                  //&#38142;&#25509;&#65292;value&#26159;NSURL or NSString&#10;NSBaselineOffsetAttributeName;        //&#22522;&#30784;&#20559;&#31227;&#37327;&#65292;value&#26159;NSNumber&#23545;&#35937;&#10;NSUnderlineColorAttributeName;        //&#19979;&#21010;&#32447;&#39068;&#33394;&#65292;value&#26159;UIColor&#23545;&#35937;&#10;NSStrikethroughColorAttributeName;    //&#21024;&#38500;&#32447;&#39068;&#33394;&#65292;value&#26159;UIColor&#10;NSObliquenessAttributeName;           //&#23383;&#20307;&#20542;&#26012;&#10;NSExpansionAttributeName;             //&#23383;&#20307;&#25153;&#24179;&#21270;&#10;NSVerticalGlyphFormAttributeName;     //&#22402;&#30452;&#25110;&#32773;&#27700;&#24179;&#65292;value&#26159; NSNumber&#65292;0&#34920;&#31034;&#27700;&#24179;&#65292;1&#22402;&#30452;, &#21482;&#22312;mac&#26377;&#25928;</span><br></pre></td></tr></table></figure>
</li>
<li><p>@IBInspectable 导入图片必须指定bundle而且不是mainBundle</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let bundle = NSBundle(forClass: self.dynamicType)&#10;let img = UIImage(named: &#34;question_player&#34;, inBundle: bundle, compatibleWithTraitCollection: nil)</span><br></pre></td></tr></table></figure>
</li>
<li><p>@IBInspectable可以调试, Editor-&gt;Debug selected view</p>
</li>
<li>UITapGesture没有.begin 和.cancel状态，只有.end状态</li>
<li><p>使用自动布局的view, 通过改变frame做动画可能失败，此时需要使用自动布局的动画</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UIView.animateWithDuration(1.0, animations: &#123;&#10;   self.heightConstraint.constant = 200&#10;   self.layoutIfNeeded() // &#19968;&#23450;&#38656;&#35201;&#21542;&#21017;&#27809;&#21160;&#30011;&#10; &#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用storyboard指定entry point的项目中接入tweak libaray</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let storyboard = UIStoryboard(name: &#34;Main&#34;, bundle: nil)&#10;let vc = storyboard.instantiateInitialViewController()&#10;window = TweakWindow(frame: UIScreen.mainScreen().bounds, tweakStore: MyTweaks.defaultStore)&#10;window!.rootViewController = vc&#10;window!.makeKeyAndVisible()</span><br></pre></td></tr></table></figure>
</li>
<li><p>scrollview会拦截touchbegin事件，不会继续传递</p>
</li>
<li><p>The file couldn’t be opened because the specified URL type isn’t supported.<br>本地文件请用NSURL(fileURLWithPath: dstPath)指定URL</p>
</li>
<li><p>uitextfield 偏移<br><code>textField.layer.sublayerTransform = CATransform3DMakeTranslation(x, y, z)</code></p>
</li>
<li><p>Masnory 自适应图片有时图片上下两侧显示多余空白，可通过拉取到图片时增加宽高比约束设，若刷新时消失，或显示不正常，可先删除该限制，再重新加入该限制，不能直接使用masnory的update方法，因为有可能两个限制同时存在，这可能是masnory的一个bug,相关代码如下：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> invalidateIntrinsicContentSize()</span><br><span class="line"></span><br><span class="line"><span class="keyword">self</span>.heightConstraint?.uninstall()</span><br><span class="line"></span><br><span class="line"><span class="keyword">self</span>.mas_updateConstraints(&#123; (make) <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">let</span> ratio = <span class="keyword">self</span>.image!.size.height / <span class="keyword">self</span>.image!.size.width</span><br><span class="line">    <span class="keyword">self</span>.heightConstraint =  make.height.mas_equalTo()(<span class="keyword">self</span>.mas_width).multipliedBy()(ratio)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">super</span>.updateConstraints()</span><br></pre></td></tr></table></figure>
</li>
<li><p>关闭xcode8 系统Log<br><img src="http://odakbgmli.bkt.clouddn.com/blog/10%3A36%3A21.jpg" alt=""></p>
</li>
<li><p>ios10 uicollectionview 的预加载技术，这里说的预加载是指数据的预加载而不是视图，如果重用cell时都是重新创建子视图则不使用，而且会卡顿，使用预加载技术会滑动一段距离后才会调用cellForRow的方法</p>
</li>
<li>osx 的NSCollectionView使用storyboard会出现一些小问题，不显示数据，建议使用xib</li>
<li>osx statusbar menu 创建后必须强引用否则不显示</li>
<li><p>去警告， 找到警告类型如<code>-Wshorten-64-to-32</code>,则在编译选项中加入<code>-Wno-shorten-64-to-32</code>flag</p>
</li>
<li><p>xcode8.1编译项目可能会签名失败， <strong>Signing Identity: “-“  </strong>, <a href="https://forums.developer.apple.com/thread/66538" target="_blank" rel="external">详见</a></p>
</li>
<li><p>编译警告 <a href="https://forums.developer.apple.com/thread/17921" target="_blank" rel="external"></a></p>
</li>
<li><p>setting scheme， 在ios10中不在生效，只能打开设置：UIApplicationOpenSettingsURLString</p>
</li>
<li><p>CMDevice​Motion学习</p>
<ul>
<li>坐标系 <img src="https://camo.githubusercontent.com/6d575bd695c76f9e6c77cec1c38951556ee66584/68747470733a2f2f7261772e6769746875622e636f6d2f6d6178696d62696c616e2f694f532d436f72654d6f74696f6e2d4578616d706c652f6d61737465722f696d616765732f312e706e67" alt=""></li>
<li><a href="http://nshipster.com/cmdevicemotion/" target="_blank" rel="external">参考</a></li>
<li><a href="https://segmentfault.com/a/1190000002400742" target="_blank" rel="external">中文参考</a></li>
<li><p>欧拉角: 用来确定定点转动刚体位置的3个一组独立角参量; 由三个属性构成，分别是：</p>
<ol>
<li>pitch 绕x轴旋转</li>
<li>roll 绕y轴旋转</li>
<li>yaw 绕z轴旋转</li>
</ol>
<p>方向的符号遵循右手法则</p>
</li>
<li>模式<ol>
<li>Accelerometer 加速度</li>
<li>Gyroscope 陀螺仪</li>
<li>Magnetometer 磁力仪</li>
<li>Device motion 可以获取设备状态信息， 如x、y、z轴的旋转角度</li>
</ol>
</li>
<li><p>获取数据模式</p>
<ol>
<li><p>pull</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">manager.startGyroUpdates()</span><br></pre></td></tr></table></figure>
</li>
<li><p>push</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">      let queue = NSOperationQueue.mainQueue&#10;manager.startGyroUpdatesToQueue(queue) &#123;&#10;    (data, error) in&#10;    // ...&#10;&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>使用需导入 CoreMotion 框架</p>
</li>
<li><p>demo</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var manager = CMMotionManager()&#10;manager.startDeviceMotionUpdates()&#10;&#10;Timer.scheduledTimer(withTimeInterval: 0.4, repeats: true, block: &#123; (timer) in&#10;    if let attitude = self.manager.deviceMotion?.attitude &#123;&#10;        let pitch = attitude.pitch  // x axis&#10;        let roll = attitude.roll    // y axis&#10;        let yaw = attitude.yaw      // z axis&#10;        &#10;        let factor = 75.0&#10;&#10;        let x = CGFloat(sin(roll) * factor)&#10;        let y = CGFloat(sin(pitch) * factor)&#10;        let z = CGFloat(sin(yaw) * factor)&#10;&#10;        print(&#34;\(x)       \(y)      \(z)&#34;)&#10;        &#10;        let transform = CGAffineTransform(translationX: x, y: y)&#10;        &#10;        DispatchQueue.main.async &#123;&#10;            UIView.animate(withDuration: 0.3, animations: &#123; &#10;                self.ball.transform = transform&#10;&#10;            &#125;)&#10;        &#125;&#10;    &#125;&#10;&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>注意</p>
<ol>
<li>三角函数的参数的单位是弧度, 不是角度</li>
<li>不用的时候关闭对应模式的更新，不要调错函数</li>
</ol>
</li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://purkylin.github.io/2016/09/13/IOS/" data-id="cizga4ngi000fhm3ogzrd5kv5" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-django" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/06/04/django/" class="article-date">
  <time datetime="2016-06-04T07:14:58.000Z" itemprop="datePublished">2016-06-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/06/04/django/">Django</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><ul>
<li><code>python get-pip.py</code> <code>pip3 install virtualenv</code></li>
<li><code>virtulnenv venv</code>创建虚拟环境</li>
<li><code>source venv/bin/activate</code> 激活虚拟环境</li>
<li><code>deactivate</code>退出虚拟环境</li>
<li><code>pip install Django</code> </li>
<li><code>python -m django --version</code></li>
<li><code>python manage.py migrate</code></li>
<li><code>django-admin startproject mysite</code></li>
<li><code>python manage.py runserver</code></li>
<li><code>python manage.py runserver 0.0.0.0:8000</code> 修改端口</li>
<li><code>python manage.py startapp music</code></li>
</ul>
<h2 id="server"><a href="#server" class="headerlink" title="server"></a>server</h2><p><code>pip install gunicorn</code><br><code>gunicorn mysite.wsgi</code><br><code>plill gunicorn</code><br><code>gunicorn mysite.wsgi --error-logfile ~/err.txt &amp;</code><br><code>gunicorn mysite.wsgi --error-logfile /var/log/gunicorn.txt &amp;</code></p>
<h2 id="Django中有print输出，退出终端在访问网页会出现io错误"><a href="#Django中有print输出，退出终端在访问网页会出现io错误" class="headerlink" title="Django中有print输出，退出终端在访问网页会出现io错误"></a>Django中有print输出，退出终端在访问网页会出现io错误</h2><p>解决方案:这时需要关闭调试模式，并设置allow_hosts,<code>.purkylin.com</code>代表purkylin.com和*.purkylin.com, 然后重启服务即可</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://purkylin.github.io/2016/06/04/django/" data-id="cizga4ngd000dhm3owsi83qmu" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-temp" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/28/temp/" class="article-date">
  <time datetime="2016-05-28T04:44:25.000Z" itemprop="datePublished">2016-05-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/28/temp/">Temp</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>last | awk ‘/ppp/{ print $1 “\t” $5”/“$6}’<br>last | awk ‘/ppp/{ printf(“%10s %s/%s\n”, $1, $5, $6)}’</p>
<p>滑动返回优化<br>个人中心加为好友优化<br>bug修复</p>
<p>docker run –name pptp -d –privileged -p 1723:1723 -v /root/chap-secrets:/etc/ppp/chap-secrets mobtitude/vpn-pptp</p>
<p>docker run –name pptp -d –privileged –net=host -v chap_secrets:/etc/ppp/chap-secrets mobtitude/vpn-pptp</p>
<p>django-admin startproject mysite<br>python manage.py runserver<br>python manage.py startapp polls</p>
<p>pd142939<br>086628</p>
<p>mesos<br>marathon<br>consul<br>datadog<br>zookeeper<br>solr<br>openvswitch<br>marthon</p>
<p>Boilerplate<br>Cookiecutter</p>
<p>python manage.py shell</p>
<p>借一本即可<br>（这本好像没有馆藏需要预约）<br>无声告白 = Everything I never told you / (美) 伍绮诗著 ; 孙璐译<br>I712.45 /W9111</p>
<p>第一律法 = The first law. 卷二, 世界边缘<br>索书号：    I561.45 /A118 /2</p>
<p>阿瓦隆迷雾<br>御谜士》三部曲</p>
<p>====</p>
<p>域名                   原价（续费）  第一年（现价）<br>purkylin.net          ¥115.00<em>     ¥81.00<br>purkylin.org          ¥122.00</em>     ¥54.00<br>purkylin.co           ¥202.00     ¥81.00<br>purkylin.info         ¥115.00<em>     ¥20.00<br>purkylin.cn           ¥67.00         ¥35.00<br>purkyl.in             ¥81.00         ¥61.00<br>pmykylin.com        ¥101.00</em>     ¥53.86<br>purkylin.biz        ¥136.00<em>     ¥54.00<br>purkylin.club       ¥101.00</em>     ¥67.00<br>purkylin.us         ¥135.00     ¥27.00<br>purkylin.com.cn     ¥67.00         ¥35.00<br>purkylin.mobi       ¥121.00<em>     ¥47.00<br>purkylin.online     ¥314.99</em>     ¥20.00<br>purkylin.xyz        ¥98.99<em>     ¥46.99<br>purkylin.life       ¥270.00<br>purkylin.today      ¥169.00<br>purkylin.work       ¥67.99<br>purkylin.solutions  ¥169.00<br>purkylin.guru       ¥270.00<br>purkylin.rocks      ¥101.99</em>     ¥54.99</p>
<p>purkylin.io          ¥405<br>purkylin.me            ¥126.99     ¥63.99<br>purkylin.it         ¥88<br>purkylin.us         ¥135         ¥27<br>purkylin.tk            ¥0</p>
<p>===</p>
<p>然后属于生命科学，生物医药范畴</p>
<p>关键字：无机/有机+无机杂和 纳米给药载体</p>
<p>Inorganic / organic and inorganic hybrid Nano Drug Delivery</p>
<p>docker run –name pptp -d –privileged -p 1723:1723 -v chap_secrets:/etc/ppp/chap-secrets mobtitude/vpn-pptp</p>
<p>39.162.48.240</p>
<p>103.192.176.123</p>
<p>docker run –name pptp -d –privileged –net=host -v /root/chap-secrets:/etc/ppp/chap-secrets mobtitude/vpn-pptp</p>
<h1 id="45-79-106-148"><a href="#45-79-106-148" class="headerlink" title="45.79.106.148"></a>45.79.106.148</h1><p>afplay</p>
<p>整行补全                        CTRL-X CTRL-L<br>根据当前文件里关键字补全        CTRL-X CTRL-N<br>根据字典补全                    CTRL-X CTRL-K<br>根据同义词字典补全              CTRL-X CTRL-T<br>根据头文件内关键字补全          CTRL-X CTRL-I<br>根据标签补全                    CTRL-X CTRL-]<br>补全文件名                      CTRL-X CTRL-F<br>补全宏定义                      CTRL-X CTRL-D<br>补全vim命令                     CTRL-X CTRL-V<br>用户自定义补全方式              CTRL-X CTRL-U<br>拼写建议                        CTRL-X CTRL-S </p>
<p>openssl req -newkey rsa:2048 -keyout yourname.key -out yourname.csr</p>
<ul>
<li>重新签名<br><code>codesign -f -s &quot;Mac Developer: purkylin@gmail.com (K2WB492RBL)&quot; &lt;App&gt;</code></li>
<li>查看签名<br><code>codesign -d --verbose=3 &lt;App&gt;</code><br>查看dylib偏移<br><code>image list -o</code></li>
</ul>
<blockquote>
<blockquote>
<blockquote>
<p>print platform</p>
<p><module 'platform'="" from="" '="" system="" library="" frameworks="" python.framework="" versions="" 2.7="" lib="" python2.7="" platform.pyc'=""><br>print platform.python_version()</module></p>
</blockquote>
</blockquote>
</blockquote>
<p>p (void)printf(“[%s, %s]\n”, (char*)object_getClassName($arg1), $arg2)</p>
<p>se SIMBL in 64-bit apps either. Neither does PlugSuit (which is using mach_inject). </p>
<p>SIMBL<br>mach_inject</p>
<p>Gatekeeper Path Randomization</p>
<p>disassmeble –frame<br>memory read $arg1<br>bt<br>expr –top-level –</p>
<p>expe</p>
<p>break set –name main<br>break set –fullname main –shlib Sketch<br>step –step-in-target doSomething # not step in accessor</p>
<p>on test()<br>    set filesLists to do shell script “ls”</p>
<pre><code>tell application &quot;Terminal&quot;
    # activate
    log (its number of rows)

end tell

tell application &quot;Finder&quot; to open the startup disk
tell application &quot;Finder&quot; to get the index of Finder window &quot;Macintosh HD&quot;


# tell application &quot;Finder&quot; to get the name of Finder window &quot;Macintosh HD&quot;

tell application &quot;Finder&quot; to get the target of the front window

tell application &quot;Finder&quot; to ¬
    set the target of the front window to the home
tell application &quot;Finder&quot; to ¬
    set the toolbar visible of front window to true

tell application &quot;Finder&quot; to ¬
    select the 3rd window
</code></pre><p>end test</p>
<h1 id="say-“hello”-using-“Bad-News”"><a href="#say-“hello”-using-“Bad-News”" class="headerlink" title="say “hello” using “Bad News”"></a>say “hello” using “Bad News”</h1><h1 id="get-running-of-application-“iTerm”"><a href="#get-running-of-application-“iTerm”" class="headerlink" title="get running of application “iTerm”"></a>get running of application “iTerm”</h1><h1 id="get-frontmost-of-application-“TextEdit”"><a href="#get-frontmost-of-application-“TextEdit”" class="headerlink" title="get frontmost of application “TextEdit”"></a>get frontmost of application “TextEdit”</h1><h1 id="get-version-of-application-“Reveal”"><a href="#get-version-of-application-“Reveal”" class="headerlink" title="get version of application “Reveal”"></a>get version of application “Reveal”</h1><p>get id of application “TextEdit”</p>
<h1 id="tell-application-id-“com-apple-TextEdit”-to-activate"><a href="#tell-application-id-“com-apple-TextEdit”-to-activate" class="headerlink" title="tell application id “com.apple.TextEdit” to activate"></a>tell application id “com.apple.TextEdit” to activate</h1><p>set winner to 7</p>
<p>#display dialog “Pick a number from 1 to 10” default answer “”</p>
<p>#if (text returned of result is winner) then beep<br>property name : “Angel”<br>log name &amp; “aa”<br>log “hi” &amp; name</p>
<h1 id="display-dialog-“Hello-“-amp-name"><a href="#display-dialog-“Hello-“-amp-name" class="headerlink" title="display dialog “Hello “ &amp; name"></a>display dialog “Hello “ &amp; name</h1><p>property num : 1<br>set num to num + 1<br>log num</p>
<h1 id="beep-3"><a href="#beep-3" class="headerlink" title="beep 3"></a>beep 3</h1><h1 id="display-dialog-“Hello”-default-answer-“”-buttons-“OK”-with-hidden-answer"><a href="#display-dialog-“Hello”-default-answer-“”-buttons-“OK”-with-hidden-answer" class="headerlink" title="display dialog “Hello” default answer “” buttons {“OK”} with hidden answer"></a>display dialog “Hello” default answer “” buttons {“OK”} with hidden answer</h1><h1 id="choose-from-list-“Mis”-“Appstore”-“Test”-with-title-“crack”"><a href="#choose-from-list-“Mis”-“Appstore”-“Test”-with-title-“crack”" class="headerlink" title="choose from list {“Mis”, “Appstore”, “Test”} with title {“crack”}"></a>choose from list {“Mis”, “Appstore”, “Test”} with title {“crack”}</h1><p>#log result &amp; “ab”</p>
<p>do shell script “date”</p>
<h1 id="do-shell-script-“screencapture-Desktop-screen-png”"><a href="#do-shell-script-“screencapture-Desktop-screen-png”" class="headerlink" title="do shell script “screencapture ~/Desktop/screen.png”"></a>do shell script “screencapture ~/Desktop/screen.png”</h1><p>do shell script “screencapture -ic”</p>
<p>Selectors are a feature of Objective-C and can only be used with methods that are exposed to the dynamic Obj-C runtime. You can’t have a selector to a pure Swift method.</p>
<p>If your class inherits from NSObject then its public methods are exposed to Obj-C automatically. Since your class does not inherit from NSObject you have to use the @objc attribute to indicate that you want this method exposed to Obj-C so that it may be called with an Obj-C selector.</p>
<p>#selector() is the new syntax in Swift 2.2. It allows the compiler to check that the selector you’re trying to use actually exists. The old syntax is deprecated and will be removed in Swift 3.0.</p>
<p>on run argv<br>    if number of argv &lt; 2 then<br>        log “Error: Missing arguments, require two arguments”<br>        return<br>    end if</p>
<pre><code>tell application &quot;Terminal&quot;
    activate
    do script &quot;cd &quot; &amp; (item 1 of argv) in window 1
    do script (item 2 of argv) in window 1

    custom title &quot;ggg&quot;
end tell
</code></pre><p>end run</p>
<p>Omnigraffle Pro 6注册码／许可证</p>
<p>名字: mojado@live.com     序列号: IZAH-IRLI-EFDI-XAEM-JBJJ-JEFJ-BJJ</p>
<p>#~!%^&amp;#debug#~!%^&amp;#://reportCrash</p>
<p>docker run -d –name ikev2-vpn-server –restart=always –privileged -p 500:500/udp -p 4500:4500/udp gaomd/ikev2-vpn-server:0.3.0</p>
<p>docker run -i -t –rm –volumes-from ikev2-vpn-server -e “HOST=purkylin.com” gaomd/ikev2-vpn-server:0.3.0 generate-mobileconfig &gt; ikev2-vpn.mobileconfig</p>
<p>pjs7207a53790274f76h38k</p>
<p>-ObjC -lz -framework Reveal</p>
<ul>
<li>UIImageView默认会非等比拉伸图像<br>原图如下：<br><img src="http://odakbgmli.bkt.clouddn.com/blog/13%3A56%3A23.jpg" alt=""><br>拉伸后</li>
</ul>
<p><img src="http://odakbgmli.bkt.clouddn.com/blog/13%3A55%3A15.jpg" alt=""></p>
<p>UIImage:stretchableImage(withLeftCapWidth leftCapWidth: Int, topCapHeight: Int) -&gt; UIImage</p>
<p>会指定不可变部分，被拉伸部分重复top+1行，和left+1列,<br>如图，效果如下：<br><img src="http://odakbgmli.bkt.clouddn.com/blog/14%3A45%3A34.jpg" alt=""></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> stretchImage = image?.stretchableImage(withLeftCapWidth: <span class="number">375</span>, topCapHeight: <span class="number">375</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> insets = <span class="type">UIEdgeInsets</span>(top: <span class="number">0</span>, <span class="keyword">left</span>: <span class="number">300</span>, bottom: <span class="number">0</span>, <span class="keyword">right</span>: <span class="number">300</span>)</span><br><span class="line"><span class="keyword">let</span> stretchImage2 = image?.resizableImage(withCapInsets: insets)</span><br></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> insets = <span class="type">UIEdgeInsets</span>(top: <span class="number">0</span>, <span class="keyword">left</span>: <span class="number">100</span>, bottom: <span class="number">0</span>, <span class="keyword">right</span>: <span class="number">100</span>)</span><br><span class="line"><span class="keyword">let</span> stretchImage2 = image?.resizableImage(withCapInsets: insets)</span><br></pre></td></tr></table></figure>
<ul>
<li>关闭xcode8 系统Log<br><img src="http://odakbgmli.bkt.clouddn.com/blog/10%3A36%3A21.jpg" alt=""></li>
</ul>
<p>Command Shift Up/Down<br>Control-O<br>Control-T<br>Control-O</p>
<p>Control-A    Move to the beginning of the line or paragraph.<br>Control-E    Move to the end of a line or paragraph.<br>Control-F    Move one character forward.<br>Control-B    Move one character backward.<br>Control-L    Center the cursor or selection in the visible area.<br>Control-P    Move up one line.<br>Control-N    Move down one line.<br>Control-O    Insert a new line after the insertion point.<br>Control-T    Swap the character behind the insertion point with the character in front of the insertion point.</p>
<p>Commond Option {/}     Move selected lines</p>
<p>Command Shift E     Select to end of the line<br>Command G<br>Command Control E   Select and edit the selection</p>
<!-- 🖼 Photo Library -->
<pre><code>&lt;key&gt;NSPhotoLibraryUsageDescription&lt;/key&gt;
&lt;string&gt;&lt;/string&gt;

&lt;!-- 📷 Camera --&gt;
&lt;key&gt;NSCameraUsageDescription&lt;/key&gt;
&lt;string&gt;&lt;/string&gt;

&lt;!-- 🎤 Microphone --&gt;
&lt;key&gt;NSMicrophoneUsageDescription&lt;/key&gt;
&lt;string&gt;&lt;/string&gt;

&lt;!-- 📍 Location --&gt;
&lt;key&gt;NSLocationUsageDescription&lt;/key&gt;
&lt;string&gt;&lt;/string&gt;

&lt;!-- 📍 Location When In Use --&gt;
&lt;key&gt;NSLocationWhenInUseUsageDescription&lt;/key&gt;
&lt;string&gt;&lt;/string&gt;

&lt;!-- 📍 Location Always --&gt;
&lt;key&gt;NSLocationAlwaysUsageDescription&lt;/key&gt;
&lt;string&gt;&lt;/string&gt;

&lt;!-- 📆 Calendars --&gt;
&lt;key&gt;NSCalendarsUsageDescription&lt;/key&gt;
&lt;string&gt;&lt;/string&gt;

&lt;!-- ⏰ Reminders --&gt;
&lt;key&gt;NSRemindersUsageDescription&lt;/key&gt;
&lt;string&gt;&lt;/string&gt;

&lt;!-- 🏊 Motion --&gt;
&lt;key&gt;NSMotionUsageDescription&lt;/key&gt;
&lt;string&gt;&lt;/string&gt;

&lt;!-- 💊 Health Update --&gt;
&lt;key&gt;NSHealthUpdateUsageDescription&lt;/key&gt;
&lt;string&gt;&lt;/string&gt;

&lt;!-- 💊 Health Share --&gt;
&lt;key&gt;NSHealthShareUsageDescription&lt;/key&gt;
&lt;string&gt;&lt;/string&gt;

&lt;!-- ᛒ🔵 Bluetooth Peripheral --&gt;
&lt;key&gt;NSBluetoothPeripheralUsageDescription&lt;/key&gt;
&lt;string&gt;&lt;/string&gt;

&lt;!-- 🎵 Media Library --&gt;
&lt;key&gt;NSAppleMusicUsageDescription&lt;/key&gt;
&lt;string&gt;&lt;/string&gt;
</code></pre><hr>
<p>title: Python<br>date: 2016-05-29 12:44:25</p>
<h2 id="tags"><a href="#tags" class="headerlink" title="tags:"></a>tags:</h2><h1 id="pip"><a href="#pip" class="headerlink" title="pip"></a>pip</h1><ul>
<li>自动生成requirement.txt<br><code>pipreqs</code></li>
<li><p>install package<br><code>pip install -r requirements.txt</code></p>
</li>
<li><p>安装python3<br>python3 -m pip install pymongo</p>
</li>
</ul>
<p>#越狱机器装reveal</p>
<ul>
<li>安装openssl, 密码默认是：alpine<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp ~/Desktop/libReveal.dylib root@172.16.10.149:/Library/MobileSubstrate/DynamicLibraries&#10;scp ~/Desktop/libReveal.plist root@172.16.10.149:/Library/MobileSubstrate/DynamicLibraries</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="Omnigraffle-Pro-6注册码／许可证"><a href="#Omnigraffle-Pro-6注册码／许可证" class="headerlink" title="Omnigraffle Pro 6注册码／许可证"></a>Omnigraffle Pro 6注册码／许可证</h1><ul>
<li>名字: mojado@live.com     </li>
<li>序列号: IZAH-IRLI-EFDI-XAEM-JBJJ-JEFJ-BJJ</li>
</ul>
<h1 id="scheme"><a href="#scheme" class="headerlink" title="scheme"></a>scheme</h1><p>~!%^&amp;#debug#~!%^&amp;#://reportCrash</p>
<h1 id="官方fabric不支持python3，用python3能安装成功但运行错误"><a href="#官方fabric不支持python3，用python3能安装成功但运行错误" class="headerlink" title="官方fabric不支持python3，用python3能安装成功但运行错误"></a>官方fabric不支持python3，用python3能安装成功但运行错误</h1><ul>
<li>tutor<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">from fabric.api import run&#10;&#10;def host_type():&#10;    run(&#39;uname -s&#39;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>将上上述代码保存为fabfile.py</p>
<h1 id="ssh-connect-to-host-localhost-port-22-Connection-refused"><a href="#ssh-connect-to-host-localhost-port-22-Connection-refused" class="headerlink" title="ssh: connect to host localhost port 22: Connection refused"></a>ssh: connect to host localhost port 22: Connection refused</h1><p>没有开启ssh server, mac下需要在共享-&gt;远程登录里勾选</p>
<p>gunicorn myproject.wsgi</p>
<h1 id="install-pip"><a href="#install-pip" class="headerlink" title="install pip"></a>install pip</h1><p>curl -O <a href="https://bootstrap.pypa.io/get-pip.py" target="_blank" rel="external">https://bootstrap.pypa.io/get-pip.py</a><br>python get-pip.py</p>
<p>self.layer.shouldRasterize = YES;<br>self.layer.rasterizationScale = [UIScreen mainScreen].scale;</p>
<p>Color Misaligned Images<br>根据官方说明，图片像素不对齐（也就是图片带alpha通道）时，会在图片上面加一层洋红色来标识；而图片被缩放时，会加一层黄色来标识。那么先看看我们的demo中被优化前的UI：</p>
<p>把图片从PNG或JPEG等格式中解压出来，得到像素数据。<br>如果GPU不支持这种颜色各式，CPU需要进行格式转换。<br>比如应用中有一些从网络下载的图片，而GPU恰好不支持这个格式，这就需要CPU预先进行格式转化。第三个选项“Color Copied Images”就用来检测这种实时的格式转化，如果有则会将图片标记为蓝色。</p>
<p>第四个选项的使用场景不多，我们直接看一下第五个选项“Color Misaligned Images”。它表示如果图片需要缩放则标记为黄色，如果没有像素对齐则标记为紫色。勾选上这个选项并进行调试，可以看到如下场景：</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://purkylin.github.io/2016/05/28/temp/" data-id="cizga4nfr0002hm3odw7ivy3g" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">二月 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/09/14/Deep-in-UIImage/">Deep in UIImage</a>
          </li>
        
          <li>
            <a href="/2016/09/13/centos/">Centos尝试</a>
          </li>
        
          <li>
            <a href="/2016/09/13/git/">it</a>
          </li>
        
          <li>
            <a href="/2016/09/13/lldb/">LLDB命令</a>
          </li>
        
          <li>
            <a href="/2016/09/13/python/">Python</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Purkylin<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>